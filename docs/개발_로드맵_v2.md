# 냥번역 개발 로드맵 (v2.0)

이 문서는 베타 버전 이후, 실제 프로덕션 서비스를 목표로 하는 새로운 개발 로드맵을 정의합니다.

---

## **Phase 1: 프로덕션 배포 및 안정화 (Production Deployment & Stabilization)**

> **목표:** 누구나 접속하고 사용할 수 있는 안정적인 웹 서비스를 출시하고, 핵심 기능의 완성도를 높입니다.

-   **[완료] 클라우드 데이터베이스 전환:** 개발용 SQLite에서 **PostgreSQL (Railway)**로 전환하여 프로덕션 환경을 구축했습니다.
-   **[완료] 백엔드 및 프론트엔드 배포:** FastAPI 백엔드를 **Railway**에, Next.js 프론트엔드를 **Vercel**에 성공적으로 배포했습니다.
-   **[완료] 배포 안정성 확보:** 배포 과정에서 발생한 **CORS 정책 문제**와 **DB 스키마 불일치** 문제를 해결하여, Vercel-Railway 간의 통신 및 배포 파이프라인을 안정화했습니다.
-   **[완료] 핵심 번역 로직 개선:** 소설 텍스트 분할(Segmentation) 방식을 개선하여, 문맥이 끊기지 않도록 문장 단위로 지능적으로 분할하도록 수정했습니다.
-   **[완료] 테스트 프레임워크 구축:** 유닛 테스트와 통합 테스트를 포함하는 테스트 스위트(`tests/`)를 구축하여 코드 안정성을 검증할 기반을 마련했습니다.

---

## **Phase 2: 사용자 경험 고도화 (Advanced UX)**

> **목표:** 사용자가 번역 과정을 더 깊이있게 제어하고, 더 나은 피드백을 받을 수 있도록 서비스를 고도화합니다.

-   **[완료] 웹 UI 전면 개편:**
    -   **내용:** **Material-UI(MUI)**를 도입하여 기존 UI를 세련된 **다크 모드** 테마의 반응형 웹 디자인으로 전면 개편했습니다.
    -   **결과:** 컴포넌트 기반의 직관적이고 아름다운 사용자 경험을 제공하게 되었습니다.

-   **[완료] 번역 모델 선택 기능:**
    -   **내용:** 사용자가 번역에 사용할 Gemini 모델(예: Pro, Flash)을 웹 UI에서 직접 선택할 수 있는 옵션을 제공합니다.
    -   **결과:** 토글 버튼 그룹 형태의 직관적인 UI로 구현되었습니다.

-   **[완료] AI 기반 스타일 분석 및 사용자 수정 기능:**
    -   **내용:** AI가 소설의 첫 부분을 분석하여 **주인공 이름**과 **핵심 서사 스타일(서술 문체, 톤, 핵심 규칙 등)**을 자동으로 제안합니다. 사용자는 번역 시작 전에 이 분석 결과를 확인하고 직접 수정할 수 있습니다.
    -   **결과:** 사용자가 번역의 방향성을 초기 단계부터 제어할 수 있게 되어, 훨씬 더 의도에 맞는 결과물을 얻을 수 있게 되었습니다.

-   **[완료] 사용량 통계 로깅 기능:**
    -   **내용:** 서비스 개선을 위해 번역 소요 시간, 텍스트 길이, 사용 모델, 오류 타입 등 익명의 사용 통계를 백엔드 데이터베이스에 기록합니다.
    -   **결과:** 향후 서비스 사용 패턴을 분석하고 최적화할 수 있는 기반을 마련했습니다.

-   **[완료] 실시간 공지 기능:**
    -   **내용:** **서버-센트 이벤트(SSE)** 기술을 사용하여, 관리자가 모든 사용자에게 실시간으로 공지를 전송할 수 있는 기능을 구현했습니다.
    -   **결과:** 서비스 점검이나 중요 업데이트를 즉각적으로 모든 사용자에게 알릴 수 있게 되었습니다.

-   **[진행 중] 사용자 정의 기능:**
    -   **과제:** 사용자가 직접 번역에 관여할 수 있는 기능을 제공합니다.
    -   **현황:** 용어집 편집은 완료, 캐릭터 스타일 편집은 예정입니다.
    -   **구현:**
        -   **[완료] 용어집(Glossary) 편집:** Next.js UI의 GlossaryEditor를 통해 용어 추가/수정/삭제가 가능하며, 백엔드로 `glossary_data`가 전달되어 번역 파이프라인에 반영됩니다.
        -   **[예정] 캐릭터 스타일 편집:** 등장인물별 말투를 사용자가 직접 정의하거나, AI가 분석한 결과를 수정할 수 있는 기능을 추가합니다.

-   **[예정] 알림 기능:**
    -   **과제:** 번역 완료 시 사용자에게 알림을 보냅니다.
    -   **구현:** 브라우저의 **Push API**를 사용하여, 번역이 완료되거나 실패했을 때 사용자에게 데스크톱 알림을 보내는 기능을 구현합니다.

---

## **Phase 3: 장기 비전 및 수익화 (Long-term Vision & Monetization)**

> **목표:** 지속 가능한 서비스로 성장시키고, 본격적인 수익 모델을 도입합니다.

-   **[완료] 사용자 인증 도입 (Clerk):**
    -   **내용:** Clerk를 프론트엔드/백엔드에 통합하여 로그인한 사용자별로 번역 작업을 관리합니다.
    -   **구현:** Next.js에 Clerk 컴포넌트와 미들웨어를 적용하고, FastAPI에서는 JWT를 검증해 `get_required_user` 의존성으로 `/api/v1/jobs` 등 주요 라우트를 보호합니다. 사용자 생성 레이스 컨디션에 대한 처리도 추가되었습니다.

-   **[완료] OpenRouter 연동 및 API 키 옵션:**
    -   **내용:** 사용자가 Gemini 키 또는 OpenRouter 키를 선택해 사용할 수 있습니다.
    -   **구현:** 프론트엔드는 프로바이더 전환과 모델 선택(UI `useApiKey`, `ModelSelector`)을 제공하고, 백엔드는 `ModelAPIFactory`로 키 타입을 감지하여 Gemini/OpenRouter 클라이언트를 생성합니다.

-   **[예정] 요금제 모델 도입:**
    -   **과제:** 무료 사용량과 유료 플랜을 구분하여 수익 모델을 만듭니다.
    -   **구현:**
        -   사용자 인증을 기반으로, 월별 번역 가능 용량을 제한하는 무료 티어를 제공합니다.
        -   **Stripe** 결제 시스템을 연동하여, 더 많은 용량을 원하는 사용자를 위한 유료 구독 플랜을 만듭니다.

-   **[예정] 프로젝트 문서화 및 커뮤니티:**
    -   **과제:** 오픈소스 프로젝트로서의 완성도를 높이고, 외부 기여를 유도합니다.
    -   **실행 방안:** `README.md`와 `기술_스택.md`를 최신 상태로 상세히 업데이트하고, 서비스 사용법 가이드, API 문서 등을 작성하여 공개합니다.
