# 냥번역 개발 로드맵 (v2.0)

이 문서는 베타 버전 이후, 실제 프로덕션 서비스를 목표로 하는 새로운 개발 로드맵을 정의합니다.

---

## **Phase 1: 프로덕션 배포 및 안정화 (Production Deployment & Stabilization)**

> **목표:** 누구나 접속하고 사용할 수 있는 안정적인 웹 서비스를 출시하고, 핵심 기능의 완성도를 높입니다.

-   **[완료] 클라우드 데이터베이스 전환:**
    -   **내용:** 개발용 SQLite에서 **PostgreSQL (Railway)**로 전환하여 프로덕션 환경을 구축했습니다.
    -   **결과:** `backend/database.py`가 클라우드 DB 주소를 사용하도록 수정되었으며, 배포 환경에서 안정적으로 작동합니다.

-   **[완료] 백엔드 및 프론트엔드 배포:**
    -   **내용:** FastAPI 백엔드를 **Railway**에, Next.js 프론트엔드를 **Vercel**에 성공적으로 배포했습니다.
    -   **결과:** `Dockerfile`과 `Procfile`을 사용하여 배포 문제를 해결했으며, CI/CD 파이프라인이 구축되었습니다.

-   **[완료] 최종 연동 및 CORS 해결:**
    -   **내용:** Vercel과 Railway 환경 변수를 설정하여 프론트엔드와 백엔드 간의 통신을 활성화했습니다.
    -   **결과:** CORS(Cross-Origin Resource Sharing) 정책을 올바르게 설정하여 API 요청이 원활하게 이루어집니다.

-   **[완료] 핵심 번역 로직 개선:**
    -   **내용:** 소설 텍스트 분할(Segmentation) 방식을 개선하여, 문맥이 끊기지 않도록 문장 단위로 지능적으로 분할하도록 수정했습니다.
    -   **결과:** 번역 모델에 더 완전한 문맥을 제공하여 번역 품질이 크게 향상되었습니다.

-   **[완료] 테스트 프레임워크 구축:**
    -   **내용:** 유닛 테스트와 통합 테스트를 포함하는 테스트 스위트(`tests/`)를 구축했습니다.
    -   **결과:** 향후 기능 추가 및 리팩토링 시 코드의 안정성을 검증할 수 있는 기반을 마련했습니다.

---

## **Phase 2: 사용자 경험 고도화 (Advanced UX)**

> **목표:** 사용자가 번역 과정을 더 깊이있게 제어하고, 더 나은 피드백을 받을 수 있도록 서비스를 고도화합니다.

1.  **번역 모델 선택 기능 (신규):**
    -   **과제:** 사용자가 번역에 사용할 Gemini 모델(예: Pro, Sonnet, Flash)을 웹 UI에서 직접 선택할 수 있는 옵션을 제공합니다.
    -   **구현:** 프론트엔드에 모델 선택 드롭다운을 추가하고, 선택된 모델을 백엔드 API에 전달하여 번역에 사용하도록 합니다.

2.  **핵심 서사 스타일(Core Narrative Style) 확인 및 수정 기능 (신규):**
    -   **과제:** 번역 시작 전, AI가 초벌 분석한 '핵심 서사 스타일'을 사용자에게 보여주고, 원한다면 직접 수정할 기회를 제공합니다.
    -   **구현:** 파일 업로드 후, 백엔드가 스타일을 분석하여 프론트엔드에 전달합니다. 프론트엔드는 팝업이나 별도 섹션을 통해 사용자에게 스타일을 보여주고, 수정된 내용을 다시 백엔드로 보내 번역 프로세스를 시작합니다.

3.  **실시간 로그 스트리밍:**
    -   **과제:** 백엔드의 실시간 번역 로그(현재 상태, 진행률 등)를 웹 화면에서 시각적으로 볼 수 있게 합니다.
    -   **기술:** WebSocket 또는 Server-Sent Events (SSE)를 사용하여 구현합니다.

4.  **사용자 정의 기능:**
    -   **과제:** 사용자가 직접 번역에 관여할 수 있는 기능을 제공합니다.
    -   **구현:**
        -   **용어집(Glossary) 편집:** 사용자가 웹 UI에서 직접 고유명사나 특정 용어의 번역을 지정하고 저장할 수 있는 기능을 추가합니다.
        -   **캐릭터 스타일 편집:** 등장인물별 말투를 사용자가 직접 정의하거나, AI가 분석한 결과를 수정할 수 있는 기능을 추가합니다.

5.  **번역 방식 선택 기능:**
    -   **과제:** 사용자가 번역 품질과 원문 가독성 사이에서 원하는 옵션을 선택할 수 있게 합니다.
    -   **구현:**
        -   **품질 우선 모드 (기본값):** 현재의 지능형 분할 방식을 사용하여 번역 품질을 극대화합니다.
        -   **가독성 우선 모드:** 이전의 단순 분할 방식(보관된 `translation_job_legacy_segmentation.py` 참조)을 선택할 수 있는 옵션을 제공하여, 원문의 줄바꿈을 그대로 유지합니다. 이 과정에서 legacy 파일은 개선하는게 좋을거 같네요.

6.  **알림 기능:**
    -   **과제:** 번역 완료 시 사용자에게 알림을 보냅니다.
    -   **구현:** 브라우저의 **Push API**를 사용하여, 번역이 완료되거나 실패했을 때 사용자에게 데스크톱 알림을 보내는 기능을 구현합니다.

---

## **Phase 3: 장기 비전 및 수익화 (Long-term Vision & Monetization)**

> **목표:** 지속 가능한 서비스로 성장시키고, 본격적인 수익 모델을 도입합니다.

1.  **사용자 인증 재도입:**
    -   **과제:** 사용자 계정 시스템을 도입합니다.
    -   **기술 선택:** **Supabase Auth** 또는 **NextAuth.js** 와 같이, PostgreSQL 데이터베이스와 쉽게 연동되고 Next.js와 호환성이 좋은 인증 라이브러리를 선택하여 재도전합니다.

2.  **요금제 모델 도입:**
    -   **과제:** 무료 사용량과 유료 플랜을 구분하여 수익 모델을 만듭니다.
    -   **구현:**
        -   사용자 인증을 기반으로, 월별 번역 가능 용량을 제한하는 무료 티어를 제공합니다.
        -   **Stripe** 결제 시스템을 연동하여, 더 많은 용량을 원하는 사용자를 위한 유료 구독 플랜을 만듭니다.

3.  **프로젝트 문서화 및 커뮤니티:**
    -   **과제:** 오픈소스 프로젝트로서의 완성도를 높이고, 외부 기여를 유도합니다.
    -   **실행 방안:** `README.md`와 `기술_스택.md`를 최신 상태로 상세히 업데이트하고, 서비스 사용법 가이드, API 문서 등을 작성하여 공개합니다.
